// Generated by CoffeeScript 1.8.0
var app;

app = angular.module('chitter', ['angularMoment']);

app.controller('ChitterCtrl', [
  '$scope', '$http', function($scope, $http) {
    var channel, getCheets, pusher;
    pusher = new Pusher('b1ea057523349531ffb6');
    channel = pusher.subscribe('cheets');
    channel.bind('new_cheet', function(data) {
      return getCheets();
    });
    $scope.postCheet = function() {
      return $http.post('/cheets', {
        cheet: $scope.cheet
      }).then(function() {
        return $scope.cheet = "";
      });
    };
    getCheets = function() {
      return $http.get('/cheets').success(function(data) {
        return $scope.cheets = data;
      });
    };
    return getCheets();
  }
]);
